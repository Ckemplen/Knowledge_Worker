<div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="entities-tab">
    <h2 class="govuk-heading-l">Entities</h2>

    <table class="govuk-table">

        <thead class="govuk-table__head">
            <tr class="govuk-table__row">
                <th scope="col" class="govuk-table__header">Entity</th>
                <th scope="col" class="govuk-table__header"></th>
                <th scope="col" class="govuk-table__header">Links</th>
            </tr>
        </thead>

        <tbody class="govuk-table__body" id="entities">
            {% if entities %}
            
            {% for entity in entities %}
            {% include "components/entity_row.html" %}
            {% endfor %}

            {% else %}
            <p class="govuk-body">No entities found.</p>
            {% endif %}

        </tbody>

    </table>

    <form hx-post="/entities" 
    hx-target="#entities" 
    hx-swap="beforeend" 
    hx-on::after-request="if(event.detail.successful) this.reset()">
        <div class="govuk-form-group">
            <label class="govuk-label" for="entity_name">Name</label>
            <input class="govuk-input" id="entity_name" name="entity_name" type="text">
        </div>
        <div class="govuk-form-group">
            <label class="govuk-label" for="entity_description">Description</label>
            <textarea class="govuk-textarea" id="entity_description" name="entity_description" rows="3"></textarea>
        </div>
        <button class="govuk-button" type="submit">Add Entity</button>
    </form>
</div>
